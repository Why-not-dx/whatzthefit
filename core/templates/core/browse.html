{% extends "core/base.html" %}

{% block title %}Browse{% endblock title %}

{% block content %}
<div class = "grid grid-cols-4 gap-2 mt-1 px-4 py-12 ">

    <div class="h-full bg-gray-200 shadow-lg rounded-xl col-span-1 p-6">
        <div class="text-gray-600">
            <form method = "get" action="{% url 'core:browse' %}">
                <input name = "query" class = "font-bold text-s mb-2 w-full py-4 px-4 border rounded-xl" type="text" value="{{query}}" placeholder="Search by name or description...">
                <button class="mt-2 py-4 px-8 text-lg font-bold  bg-teal-500 text-white rounded-xl hover:bg-teal-900">Search</button>
            </form>

            <hr class ="my-6" >
            
            <form action="." method="GET">
                {% csrf_token %}
                <div class="space-y-4">
                    <div class="text-gray-600">
                        <label class = "inline-block mb-2">Category</label><br>
                        {{ form.category }}
                    </div>
                    <div class="text-gray-600">
                        <label class = "inline-block mb-2">Brand</label><br>
                        {{ form.brand }}
                    </div>
                    <div class="text-gray-600">
                        <label class = "inline-block mb-2">Body type</label><br>
                        {{ form.body}}
                    </div>
                    <button class='mt-4 py-4 px-8 text-lg bg-teal-500 hover:bg-teal-700 rounded-xl text-white'>Search</button>
                </div>
            <hr class ="my-6" >
                        
            <ul>
                <li class="px-2 py-2 rounded-xl">
                    <a href="{% url 'core:browse'%}" class="mt-2 py-4 px-8 inline-block bg-yellow-500 text-lg font-bold rounded-xl text-white hover:bg-orange-400">Clear</a>
                </li>
            </ul>

        </div>
    </div>

    <div class="py-10 bg-gray-200 rounded-xl col-span-3">
        <div class="flex flex-wrap">
            {% if not items %}
                <div class="m-6 bg-gray-200 w-full h-48 flex  items-center justify-center rounded-t-xl">
                    <span class="text-gray-400 text-xl font-bold ">No results</span>
                </div>  
            {% else %}
            
                {% for item in items  %}
                    <div class="mt-3 px-6 w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6 mb-4">
                        <a href="{% url 'items:detail' item.id %}">
                            <div>
                                {% if item.image %}
                                    <img src="{{item.image.url}}" class="mx-auto rounded-t-xl">
                                {% else %}
                                    <div class="bg-gray-200 w-full h-48 flex  items-center justify-center rounded-t-xl">
                                        <span class="text-gray-400">No image yet</span>
                                    </div>                        
                                {% endif %}
                            </div>
                                
                            <div class="p-6 bg-white rounded-b-xl">
                                <h2 class="text-2xl">{{item.name}}</h2>
                            </div>

                        </a>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
</div>
{% endblock content %}